---
phase: 18-production-hardening
plan: 03
type: execute
wave: 3
depends_on: [18-02]
files_modified:
  - outputs/bug_hunt/SYNTHESIS.md
autonomous: false

must_haves:
  truths:
    - "SYNTHESIS.md aggregates all findings across 4 agents into a single priority matrix with severity counts (P0/P1/P2/P3) found, fixed, and remaining"
    - "Per-agent summary shows each agent's findings count by severity, key themes, and domain assessment"
    - "Every P0/P1 fix is documented with finding ID, file, issue description, fix applied, and verification status"
    - "Cross-agent themes identify patterns flagged by multiple agents"
    - "Trust assessment includes Mr. Magoo's trust_score and Dale Gribble's sovereignty_assessment"
    - "Go/no-go recommendation is evidence-based with clear criteria: zero P0, zero P1, trust_score >= 7"
    - "Human makes the final launch decision after reviewing the synthesis"
  artifacts:
    - path: "outputs/bug_hunt/SYNTHESIS.md"
      provides: "Production hardening synthesis report and go/no-go recommendation"
      contains: "Go/No-Go"
  key_links:
    - from: "outputs/bug_hunt/*_findings.json"
      to: "outputs/bug_hunt/SYNTHESIS.md"
      via: "aggregation of all agent findings"
      pattern: "severity"
    - from: "outputs/bug_hunt/SYNTHESIS.md"
      to: "v1.3 launch decision"
      via: "human go/no-go checkpoint"
      pattern: "PASS|CONDITIONAL"
---

<objective>
Produce the SYNTHESIS.md production hardening report that synthesizes all 4 agents' findings into a go/no-go launch recommendation, then present to the user for final launch decision.

Purpose: Wave 3 of the three-wave Phase 18 structure. This synthesis consolidates the complete adversarial review into a single decision document. The report provides evidence for the user (the human decision-maker) to make the final go/no-go call for a 100-200 concurrent Tribal user launch over a 48-hour window.

Output:
- `outputs/bug_hunt/SYNTHESIS.md` -- complete synthesis with priority matrix, per-agent summaries, fixes applied, cross-agent themes, trust assessment, concurrency assessment, and go/no-go recommendation
</objective>

<execution_context>
@D:\Claude-Workspace\.claude\get-shit-done\workflows\execute-plan.md
@D:\Claude-Workspace\.claude\get-shit-done\templates\summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/18-production-hardening/18-CONTEXT.md
@.planning/phases/18-production-hardening/18-RESEARCH.md
@.planning/phases/18-production-hardening/18-01-SUMMARY.md
@.planning/phases/18-production-hardening/18-02-SUMMARY.md

# All agent findings (post-fix, with fix_status)
@outputs/bug_hunt/cyclops_findings.json
@outputs/bug_hunt/cyclops_summary.md
@outputs/bug_hunt/dale-gribble_findings.json
@outputs/bug_hunt/dale-gribble_summary.md
@outputs/bug_hunt/mr-magoo_findings.json
@outputs/bug_hunt/mr-magoo_summary.md
@outputs/bug_hunt/marie-kondo_findings.json
@outputs/bug_hunt/marie-kondo_summary.md

# Phase 16 SYNTHESIS.md for format reference
@outputs/docx_review/SYNTHESIS.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Produce SYNTHESIS.md production hardening report</name>
  <files>outputs/bug_hunt/SYNTHESIS.md</files>
  <action>
Read all 4 agent findings JSON files (post-fix versions with fix_status fields). Aggregate into the SYNTHESIS.md report.

**Write `outputs/bug_hunt/SYNTHESIS.md` with this exact structure:**

```markdown
# Production Hardening - Phase 18 Synthesis

## Overall Status: PASS / CONDITIONAL PASS / FAIL

**Date:** {ISO-8601}
**System scope:** 96 Python files (~37,900 LOC) + vanilla HTML/JS/CSS website + 3 GitHub Actions workflows
**Audited by:** 4 adversarial agents (Cyclops, Dale Gribble, Mr. Magoo, Marie Kondo)
**Target:** 100-200 concurrent Tribal users over 48-hour launch window
**Gate requirement:** Zero P0 critical, zero P1 important

## Severity Summary

| Severity | Found | Fixed | Remaining |
|----------|-------|-------|-----------|
| P0 Critical | {n} | {n} | 0 |
| P1 Important | {n} | {n} | 0 |
| P2 Cosmetic | {n} | {n applied} | {n remaining} |
| P3 Cosmetic | {n} | {n applied} | {n remaining} |
| **Total** | {n} | {n} | {n} |

## Pre-Flight Fixes (Inherited from Phase 17)

| ID | Severity | File | Issue | Status |
|----|----------|------|-------|--------|
| P1-01 | P1 | style.css | Dark mode button contrast | Fixed |
| P1-02 | P1 | style.css | Dark mode badge contrast | Fixed |
| P1-03 | P1 | style.css | Dark mode selected option contrast | Fixed |
| P2-01 | P2 | style.css | Muted text borderline contrast | Fixed |
| P2-02 | P2 | style.css | Missing .option-alias CSS | Fixed |
| P2-03 | P2 | style.css | Duplicate max-width | Fixed |
| P2-04 | P2 | app.js | scrollIntoView reduced motion | Fixed |
| P2-05 | P2 | style.css | Light mode selected option contrast | Fixed |
| P3-02 | P3 | index.html | ATNI URL in HTML comment | Fixed |
| P3-03 | P3 | app.js | Missing rel=noopener | Fixed |
| P3-06 | P3 | index.html | No noscript fallback | Fixed |

## Per-Agent Summary

### Cyclops (Deep Code Inspection)
- **Scope:** {files inspected}
- **Findings:** P0: {n}, P1: {n}, P2: {n}, P3: {n}
- **Key themes:** {summary of major findings}
- **Structural assessment:** {from cyclops_findings.json}
- **15-item checklist:** {n}/15 items clean

### Dale Gribble (Security & Data Sovereignty)
- **Scope:** {files inspected}
- **Findings:** P0: {n}, P1: {n}, P2: {n}, P3: {n}
- **Key themes:** {summary of major findings}
- **Third-party inventory:** {list of external domains contacted}
- **Sovereignty assessment:** {from dale-gribble_findings.json}
- **18-item checklist:** {n}/18 items clean
- **Paranoia level:** {justified/cautious/tinfoil-hat}

### Mr. Magoo (Experiential User Testing)
- **Scope:** Website experience (no source code)
- **Findings:** P0: {n}, P1: {n}, P2: {n}, P3: {n}
- **Key themes:** {summary of major findings}
- **Trust score:** {n}/10
- **Overall impression:** {from mr-magoo_findings.json}
- **12-item checklist:** {n}/12 items satisfactory

### Marie Kondo (Code Hygiene)
- **Scope:** {n} Python files + web files + config
- **Findings applied:** {n dead code removals, n unused imports, etc.}
- **Findings deferred:** {n items too risky to apply}
- **Joy score (before):** {n}/10
- **Joy score (after):** {n}/10
- **Joy score (potential):** {n}/10

## Fixes Applied (P0/P1)

[For each P0/P1 fix:]

### {FINDING-ID}: {brief description}
- **Agent:** {agent name}
- **File:** {file path}
- **Issue:** {description}
- **Fix:** {what was changed}
- **Verification:** {how it was confirmed}

## Cross-Agent Themes

[Patterns identified by multiple agents. Example themes:]
- Theme 1: {description} (flagged by: Agent A, Agent B)
- Theme 2: {description} (flagged by: Agent A, Agent C)

## Known Issues (P2/P3 Remaining)

| ID | Severity | Agent | File | Description |
|----|----------|-------|------|-------------|
{list all remaining P2/P3 items}

These do not block launch and are documented for post-launch cleanup.

## Trust Assessment

### User Trust (Mr. Magoo)
- Trust score: {n}/10
- Key positives: {what worked well}
- Key concerns: {what needs attention}
- Council-ready assessment: {yes/no with reason}

### Data Sovereignty (Dale Gribble)
- Sovereignty assessment: {summary}
- UNDRIP compliance: {status}
- OCAP compliance: {status}
- CARE compliance: {status}
- TSDF compliance: {status}
- Third-party data exposure: {none/limited/significant}

## Concurrency Assessment

- **Target:** 100-200 concurrent users over 48-hour window
- **Architecture:** GitHub Pages CDN (static file serving)
- **Download reliability:** {assessment based on Cyclops + Dale Gribble findings}
- **Search performance:** {assessment based on Cyclops findings}
- **Known limitations:** {any concurrency-related findings}
- **Conclusion:** {ready/not ready for target concurrency}

## Test Suite

- Tests before Phase 18: 964
- Tests after Phase 18: {n}
- All passing: yes/no

## Go/No-Go Recommendation

**Recommendation:** GO / CONDITIONAL GO / NO-GO

**Evidence:**
- P0 critical: {n} remaining (requirement: 0)
- P1 important: {n} remaining (requirement: 0)
- Trust score: {n}/10 (requirement: >= 7)
- Sovereignty compliance: {status}
- Concurrency readiness: {status}
- Test suite: {n} tests passing

**Conditions (if CONDITIONAL GO):**
{list any conditions or caveats}

**Risk assessment:**
{brief risk summary for the 48-hour launch window}

## Quality Certificate

```
Status: {PASS/CONDITIONAL PASS/FAIL}
P0 remaining: {n}
P1 remaining: {n}
P2 remaining: {n}
P3 remaining: {n}
Trust score: {n}/10
Sovereignty: {compliant/non-compliant}
Test count: {n}
Phase 18 complete: {date}
v1.3 launch ready: {yes/no/conditional}
```
```

**Important:**
- Use actual numbers from the findings JSON files -- do not estimate or round
- Cross-reference severity counts across agents to ensure accuracy
- The SYNTHESIS.md is the definitive gate document for v1.3 launch
- Do not claim PASS if any P0 or P1 remains unresolved
- Do not claim trust_score >= 7 unless Mr. Magoo's findings confirm it
- Use `encoding="utf-8"` when writing the file
  </action>
  <verify>
- `outputs/bug_hunt/SYNTHESIS.md` exists and contains all required sections
- Overall Status matches actual findings (PASS only if zero P0 AND zero P1)
- Severity counts match actual findings across all 4 agent JSONs
- Per-agent summaries accurately reflect individual findings files
- Trust score matches Mr. Magoo's findings
- Sovereignty assessment matches Dale Gribble's findings
- Known Issues section lists all remaining P2/P3 items
- Go/No-Go recommendation is evidence-based
- Quality certificate contains accurate metrics
  </verify>
  <done>SYNTHESIS.md production hardening report exists with accurate severity counts, trust assessment, sovereignty assessment, concurrency assessment, and evidence-based go/no-go recommendation</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Complete production hardening synthesis report at `outputs/bug_hunt/SYNTHESIS.md`. This report aggregates findings from 4 adversarial agents (Cyclops deep code inspection, Dale Gribble security/sovereignty audit, Mr. Magoo experiential testing, Marie Kondo code hygiene) across the complete TCR Policy Scanner system.

The report includes:
- Priority matrix with P0/P1/P2/P3 findings found, fixed, and remaining
- Pre-flight fixes resolving 11 inherited issues from Phase 17
- Per-agent summaries with domain-specific assessments
- All P0/P1 fixes documented with verification status
- Cross-agent themes and patterns
- Trust assessment (Mr. Magoo trust_score) and sovereignty assessment (Dale Gribble)
- Concurrency assessment for 100-200 user target
- Go/no-go launch recommendation
  </what-built>
  <how-to-verify>
1. Read `outputs/bug_hunt/SYNTHESIS.md` -- review the full report
2. Check the Overall Status and Go/No-Go Recommendation
3. Review the Severity Summary table -- confirm zero P0 and zero P1 remaining
4. Review the Trust Assessment -- confirm trust_score >= 7
5. Review the Sovereignty Assessment -- confirm TSDF/UNDRIP/OCAP/CARE compliance
6. Review Known Issues (P2/P3) -- acceptable for post-launch?
7. Review the Concurrency Assessment -- ready for 100-200 users?

**Decision:** Based on the synthesis report, is the TCR Policy Scanner ready for production launch to 100-200 concurrent Tribal users over a 48-hour window?

Options:
- **GO**: Launch. Zero P0, zero P1, trust and sovereignty confirmed.
- **CONDITIONAL GO**: Launch with monitoring. Minor caveats documented.
- **NO-GO**: Do not launch. Unresolved critical issues require another fix cycle.
  </how-to-verify>
  <resume-signal>Type "go", "conditional go", or "no-go" with any additional instructions</resume-signal>
</task>

</tasks>

<verification>
1. `outputs/bug_hunt/SYNTHESIS.md` exists with all required sections
2. Severity counts are accurate and cross-referenced across all 4 agent JSONs
3. Go/no-go recommendation is evidence-based with specific criteria met/unmet
4. Human has reviewed and rendered launch decision
5. All test suites pass at time of synthesis
</verification>

<success_criteria>
- SYNTHESIS.md provides complete, accurate, evidence-based production hardening assessment
- Human has all information needed to make an informed go/no-go launch decision
- Phase 18 (Production Hardening) is complete
- v1.3 milestone is either launched or has a clear path to launch
</success_criteria>

<output>
After completion (including human decision), create `.planning/phases/18-production-hardening/18-03-SUMMARY.md`
</output>
